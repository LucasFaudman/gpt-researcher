"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5232],{5297:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"reference/processing/text","title":"processing.text","description":"Text processing functions","source":"@site/docs/reference/processing/text.md","sourceDirName":"reference/processing","slug":"/reference/processing/text","permalink":"/docs/reference/processing/text","draft":false,"unlisted":false,"editUrl":"https://github.com/assafelovic/gpt-researcher/tree/master/docs/docs/reference/processing/text.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"text","title":"processing.text"}}');var r=s(4848),i=s(8453);const l={sidebar_label:"text",title:"processing.text"},c=void 0,o={},d=[{value:"split_text",id:"split_text",level:4},{value:"summarize_text",id:"summarize_text",level:4},{value:"scroll_to_percentage",id:"scroll_to_percentage",level:4},{value:"create_message",id:"create_message",level:4},{value:"write_to_file",id:"write_to_file",level:4}];function h(e){const n={code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Text processing functions"}),"\n",(0,r.jsx)(n.h4,{id:"split_text",children:"split_text"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def split_text(text: str,\n               max_length: int = 8192) -> Generator[str, None, None]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Split text into chunks of a maximum length"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"text"})," ",(0,r.jsx)(n.em,{children:"str"})," - The text to split"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"max_length"})," ",(0,r.jsx)(n.em,{children:"int, optional"})," - The maximum length of each chunk. Defaults to 8192."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Yields"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"str"})," - The next chunk of text"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Raises"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ValueError"})," - If the text is longer than the maximum length"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"summarize_text",children:"summarize_text"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def summarize_text(url: str,\n                   text: str,\n                   question: str,\n                   driver: Optional[WebDriver] = None) -> str\n"})}),"\n",(0,r.jsx)(n.p,{children:"Summarize text using the OpenAI API"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"url"})," ",(0,r.jsx)(n.em,{children:"str"})," - The url of the text"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"text"})," ",(0,r.jsx)(n.em,{children:"str"})," - The text to summarize"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"question"})," ",(0,r.jsx)(n.em,{children:"str"})," - The question to ask the model"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"driver"})," ",(0,r.jsx)(n.em,{children:"WebDriver"})," - The webdriver to use to scroll the page"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"str"})," - The summary of the text"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"scroll_to_percentage",children:"scroll_to_percentage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def scroll_to_percentage(driver: WebDriver, ratio: float) -> None\n"})}),"\n",(0,r.jsx)(n.p,{children:"Scroll to a percentage of the page"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"driver"})," ",(0,r.jsx)(n.em,{children:"WebDriver"})," - The webdriver to use"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ratio"})," ",(0,r.jsx)(n.em,{children:"float"})," - The percentage to scroll to"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Raises"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ValueError"})," - If the ratio is not between 0 and 1"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"create_message",children:"create_message"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def create_message(chunk: str, question: str) -> Dict[str, str]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a message for the chat completion"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chunk"})," ",(0,r.jsx)(n.em,{children:"str"})," - The chunk of text to summarize"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"question"})," ",(0,r.jsx)(n.em,{children:"str"})," - The question to answer"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,r.jsx)(n.p,{children:"Dict[str, str]: The message to send to the chat completion"}),"\n",(0,r.jsx)(n.h4,{id:"write_to_file",children:"write_to_file"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def write_to_file(filename: str, text: str) -> None\n"})}),"\n",(0,r.jsx)(n.p,{children:"Write text to a file"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"text"})," ",(0,r.jsx)(n.em,{children:"str"})," - The text to write"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filename"})," ",(0,r.jsx)(n.em,{children:"str"})," - The filename to write to"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var t=s(6540);const r={},i=t.createContext(r);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);